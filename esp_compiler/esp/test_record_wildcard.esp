META
version `1.0.0`
META_END

DEF
VAR json_path string `test.json`

STATE test_array_wildcard
    record record_data
        field users.*.role string = `admin` at_least_one
    record_end
STATE_END

STATE test_nested_wildcards
    record record_data
        field data.*.items.*.status string = `active` all
    record_end
STATE_END

STATE test_object_wildcard
    record record_data
        field config.*.enabled boolean = true all
    record_end
STATE_END

OBJECT test_file
    path VAR json_path
OBJECT_END

CRI AND
    CTN json_record
        TEST all all
        OBJECT_REF test_file
        STATE_REF test_array_wildcard
    CTN_END
CRI_END

DEF_END
